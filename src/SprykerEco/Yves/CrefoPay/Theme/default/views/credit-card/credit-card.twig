{% extends model('template') %}

{% define data = {
    form: form
} %}

{% block body %}
    {% set crefopayFields = [
        {name: 'Accountholder', attribute: "paymentInstrument.accountHolder"},
        {name: 'Number', attribute: "paymentInstrument.number"},
        {name: 'Validity', attribute: "paymentInstrument.validity"},
        {name: 'CVV', attribute: "paymentInstrument.cvv"}
    ] %}

    {% include molecule('crefopay-form-loader', 'CrefoPay') with {
        data: {
            form: data.form,
            shopPublicKey: data.form.crefoPayCreditCard.vars.shopPublicKey,
            orderId: data.form.crefoPayCreditCard.vars.orderID,
            fields: crefopayFields
        }
    } only %}
{% endblock %}
